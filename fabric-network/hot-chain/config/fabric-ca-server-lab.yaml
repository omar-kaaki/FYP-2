# Fabric CA Server Configuration for ForensicLabMSP (Hot Chain)

version: 1.5.7

port: 7055

# Enable debug logging
debug: false

# TLS Configuration
tls:
  enabled: true
  certfile: /etc/hyperledger/fabric-ca-server/tls-cert.pem
  keyfile: /etc/hyperledger/fabric-ca-server/tls-key.pem
  clientauth:
    type: noclientcert

# CA Configuration
ca:
  name: ca-lab-hot
  keyfile: /etc/hyperledger/fabric-ca-server/ca-key.pem
  certfile: /etc/hyperledger/fabric-ca-server/ca-cert.pem
  chainfile: /etc/hyperledger/fabric-ca-server/ca-chain.pem

# Registry - Bootstrap identity
registry:
  maxenrollments: -1
  identities:
    - name: admin
      pass: adminpw
      type: client
      affiliation: ""
      attrs:
        hf.Registrar.Roles: "*"
        hf.Registrar.DelegateRoles: "*"
        hf.Revoker: true
        hf.IntermediateCA: true
        hf.GenCRL: true
        hf.Registrar.Attributes: "*"
        hf.AffiliationMgr: true

# Database
db:
  type: sqlite3
  datasource: /etc/hyperledger/fabric-ca-server/fabric-ca-server.db
  tls:
    enabled: false

# LDAP (disabled)
ldap:
  enabled: false

# Affiliations - Forensic Lab departments and roles
affiliations:
  forensiclab:
    - investigators
    - analysts
    - admins
    - auditors

# Signing profiles
signing:
  default:
    usage:
      - digital signature
    expiry: 8760h
  ca:
    usage:
      - cert sign
      - crl sign
    expiry: 43800h
    caconstraint:
      isca: true
      maxpathlen: 0

# CSR (Certificate Signing Request) configuration
csr:
  cn: ca-lab-hot
  names:
    - C: LB
      ST: Beirut
      L: Beirut
      O: ForensicLabMSP
      OU: ForensicLabCA
  hosts:
    - ca-lab
    - localhost
  ca:
    expiry: 131400h
    pathlength: 1

# BCCSP (Blockchain Crypto Service Provider)
bccsp:
  default: SW
  sw:
    hash: SHA256
    security: 256
    filekeystore:
      keystore: /etc/hyperledger/fabric-ca-server/msp/keystore

# Intermediate CA
intermediate:
  parentserver:
    url: ""
    caname: ""

# Operations
operations:
  listenAddress: 127.0.0.1:9444
  tls:
    enabled: false
